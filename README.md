# 传令官战斗规则

## 概述
传令官战斗系统是基于COC7角色卡的扩展规则，保留了COC7的角色属性系统（力量、体质、敏捷等），但引入了特殊的战斗机制。本系统适用于COC7的游戏环境，只是在战斗解决方案上提供了一种替代方式。

## 1. 角色属性
- **生命值**：等于玩家人数（NUM）
- **掷骰次数**：每回合开始时，拥有的掷骰次数等于玩家人数 + 3

## 2. 游戏目标与骰子系统
- **游戏目标**：击败所有敌人
- **骰子**：使用六面骰
- **动作类型**：
  - 🛡 **防御动作**（骰出 1 或 2）：用于闪避或格挡敌方攻击
  - ⚡ **特殊动作**（骰出 3 或 4）：可用于加强攻击或提前防御
  - ⚔️ **攻击动作**（骰出 5 或 6）：用于攻击敌方单位

## 3. 战斗流程
1. **角色准备**：
   - 使用标准COC7角色创建方式设定基础属性
   - 通过`.st 人数:X`设置人数(NUM)，系统自动计算生命值和掷骰次数

2. **回合流程**：
   - **回合开始**：敌方先手，投掷骰子
   - **玩家行动**：
     - 使用`.cl r`单次投掷骰子，或`.cl all`一次性投掷所有骰子
     - 根据骰子结果获得相应动作
   
   - **动作判定**：
     - **敌方攻击**：敌方骰出攻击动作时（`.cl 攻击`）
     - **玩家防御**：面对敌方攻击时，使用防御动作（`.cl 防御`）
       - 每个防御动作可抵消一次敌方攻击
       - 无法防御时，生命值减少1，人数减少1
     
     - **特殊动作**（`.cl 特殊`）：
       - 可以加强下回合的攻击动作伤害+1
       - 可以提前防御敌方下回合的加强攻击
   
   - **回合结束**（`.cl 结束回合`）：
     - 双方消耗完所有攻击与特殊动作后，弃掉所有防御动作
     - 为下一回合准备新的掷骰次数

## 4. 命令列表
- `.st 人数:X` - 设置角色人数
- `.sn clg` - 设置传令官特色名片
- `.cl r` - 单次掷骰
- `.cl all` - 一次性掷出所有骰子
- `.cl 攻击` - 使用攻击动作
- `.cl 防御` - 使用防御动作
- `.cl 特殊` - 使用特殊动作
- `.cl 结束回合` - 结束当前回合

## 注意事项
- 本系统作为COC7规则的扩展，保留了原有的技能和属性系统
- 战斗规则提供了一种更加结构化的解决方案，但仍可与常规COC调查和角色扮演无缝衔接
- 当调用`.cl`命令时，系统会自动切换到100面骰，以支持传令官战斗系统
